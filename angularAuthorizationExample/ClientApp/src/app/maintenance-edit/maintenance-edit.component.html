
<p >Maintenance details edit</p>

<p *ngIf="!maintenance"><em>Edycja, ładowanie... pozycji dla MainId={{maintenanceId}}</em></p>

<div class="alert alert-danger" *ngIf="errorMsg">
    {{errorMsg}}
</div>

<div *ngIf="maintenance != null">
    <form #userForm="ngForm" *ngIf="!submitted" (ngSubmit)="onSubmit()" novalidate>

        <div class="form-group">
            <label>Data:</label>
                        
            <input type="date" #maintenanceDate="ngModel" class="form-control" placeholder="yyyy-MM-dd" [ngModel]="maintenance.maintenanceDate | date:'yyyy-MM-dd'" name="maintenanceDate" >            
        </div>

        <div class="form-group">
            <label>Przebieg:</label>
            <input type="text" required #mileage="ngModel" [class.is-invalid]="mileage.invalid && mileage.touched" class="form-control" [(ngModel)]="maintenance.mileage" name="mileage">
            <small class="text-danger" [class.d-none]="mileage.valid || mileage.untouched">Przebieg jest wymagany</small>
        </div> 
        
        <div class="form-group">
            <label>Opis:</label>
            <input type="text" #description="ngModel" [class.is-invalid]="description.invalid && description.touched" class="form-control" [(ngModel)]="maintenance.description" name="description">            
        </div>
                

<div>
    <button (click)="goBack()" class="btn btn-primary">Powrót</button>
    <button [disabled]="userForm.form.invalid" class="btn btn-primary"  type="submit">Zatwierdź</button>
</div>